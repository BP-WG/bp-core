{-
  Id: stl:bx6W@Ye9-W84klBh-n2vIDku-q1tmF4T-DLS$IqW-6CutpXM#garbo-radius-peru
  Name: BPCore
  Version: 0.1.0
  Description: Bitcoin client-side-validation library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib BPCore

import Std#ralph-blue-lucky
  use U5#orbit-graph-sonic

import CommitVerify#tennis-peace-olympic
  use MerkleTree#patriot-answer-oliver
  use ProtocolId#shadow-eclipse-program
  use Message#druid-blitz-rover
  use MerkleHash#horse-popcorn-bundle
  use MerkleBlock#pegasus-delta-eddie
  use MerkleProof#price-aloha-grid
  use TreeNode#kansas-scarlet-ricardo

import Bitcoin#signal-color-cipher
  use Vout#brush-gloria-heroic
  use ScriptBytes#equator-cockpit-gong
  use TapNodeHash#paprika-amanda-hunter
  use LeafScript#bison-doctor-oscar
  use Txid#shallow-light-reverse
  use InternalPk#habitat-paprika-oliver
  use LeafVer#benefit-carbon-africa
  use XOnlyPk#clever-swim-carpet


@mnemonic(evita-escape-jessica)
data AnchorMerkleBlockOpretProof : mpcProof CommitVerify.MerkleBlock
                       , dbcProof OpretProof
                       , method Method

@mnemonic(bicycle-scroll-dynasty)
data AnchorMerkleBlockTapretProof : mpcProof CommitVerify.MerkleBlock
                       , dbcProof TapretProof
                       , method Method

@mnemonic(wonder-club-good)
data AnchorMerkleProofOpretProof : mpcProof CommitVerify.MerkleProof
                       , dbcProof OpretProof
                       , method Method

@mnemonic(select-infant-precise)
data AnchorMerkleProofTapretProof : mpcProof CommitVerify.MerkleProof
                       , dbcProof TapretProof
                       , method Method

@mnemonic(educate-halt-nobody)
data AnchorMerkleTreeOpretProof : mpcProof CommitVerify.MerkleTree
                       , dbcProof OpretProof
                       , method Method

@mnemonic(castro-visitor-grid)
data AnchorMerkleTreeTapretProof : mpcProof CommitVerify.MerkleTree
                       , dbcProof TapretProof
                       , method Method

@mnemonic(report-process-stuart)
data BlindSealTxPtr    : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout
                       , blinding U64

@mnemonic(baby-region-proxy)
data BlindSealTxid     : method Method
                       , txid Bitcoin.Txid
                       , vout Bitcoin.Vout
                       , blinding U64

@mnemonic(meaning-extra-sherman)
data ExplicitSealTxPtr : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout

@mnemonic(june-total-denver)
data ExplicitSealTxid  : method Method
                       , txid Bitcoin.Txid
                       , vout Bitcoin.Vout

@mnemonic(bali-boris-plasma)
data Method            : opretFirst | tapretFirst


@mnemonic(good-village-flex)
data OpretProof        : ()

@mnemonic(dollar-iris-wizard)
data SecretSeal        : [Byte ^ 32]

@mnemonic(cabinet-agent-stella)
data TapretNodePartner : leftNode Bitcoin.TapNodeHash
                       | rightLeaf Bitcoin.LeafScript
                       | rightBranch TapretRightBranch

@mnemonic(cotton-ventura-clean)
data TapretPathProof   : partnerNode TapretNodePartner?, nonce U8

@mnemonic(eternal-druid-round)
data TapretProof       : pathProof TapretPathProof, internalPk Bitcoin.InternalPk

@mnemonic(miracle-patriot-touch)
data TapretRightBranch : leftNodeHash Bitcoin.TapNodeHash, rightNodeHash Bitcoin.TapNodeHash

@mnemonic(italian-july-eddie)
data TxPtr             : witnessTx ()
                       | txid Bitcoin.Txid


